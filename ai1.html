<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Chatbot - JS Themed</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Custom styles */
        body {
            font-family: 'Fira Code', monospace;
            background-color: #1a1a1a;
            background-image: radial-gradient(circle at top, rgba(240, 220, 78, 0.05), transparent 30%);
            color: #e0e0e0;
        }
        /* Fix for mobile viewport height */
        #chatbot-container {
            height: 100vh; /* Fallback for older browsers */
            height: 100dvh; /* Correct height for modern mobile browsers */
        }
        /* Custom scrollbar */
        #chat-container::-webkit-scrollbar {
            width: 8px;
        }
        #chat-container::-webkit-scrollbar-track {
            background: #2d2d2d;
        }
        #chat-container::-webkit-scrollbar-thumb {
            background: #f0dc4e;
            border-radius: 10px;
        }
        #chat-container::-webkit-scrollbar-thumb:hover {
            background: #d4c243;
        }
        /* Smoother animation for incoming messages */
        .message-fade-in {
            animation: fadeIn 0.5s ease-out;
        }
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(15px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
    </style>
</head>
<body class="bg-[#1a1a1a] text-[#e0e0e0]">

    <div id="chatbot-container" class="flex flex-col w-full max-w-2xl mx-auto bg-[#252525]/80 backdrop-blur-sm shadow-2xl rounded-none sm:rounded-2xl my-0 sm:my-8 overflow-hidden border border-[#333333]">

        <header class="bg-[#f0dc4e] p-4 text-center shadow-lg border-b-4 border-[#1a1a1a]">
            <h1 class="text-2xl font-bold tracking-wider text-[#1a1a1a]">AI Assistant</h1>
            <p class="text-sm text-[#4a4a4a]">Web App Protection</p>
        </header>

        <main id="chat-container" class="flex-1 p-6 space-y-6 overflow-y-auto">
            <div class="flex items-start gap-3 justify-start message-fade-in">
                 <div class="w-10 h-10 rounded-full bg-[#f0dc4e] flex items-center justify-center flex-shrink-0 text-[#1a1a1a] shadow-md">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg>
                </div>
                <div class="bg-[#333333] p-4 rounded-2xl rounded-tl-md shadow-md max-w-xs md:max-w-md">
                    <p class="text-sm text-[#e0e0e0]">Hello! I can tell you about this web application, its features, and its developer. How can I help?</p>
                </div>
            </div>
        </main>

        <footer class="p-4 bg-[#1a1a1a]/50 border-t border-[#333333]">
            <form id="chat-form" class="flex items-center gap-3">
                <input type="text" id="user-input" placeholder="//Type your message..." class="flex-1 w-full bg-[#333333] text-[#e0e0e0] placeholder-[#999999] p-3 rounded-xl border border-[#444444] focus:ring-2 focus:ring-[#f0dc4e] focus:outline-none transition duration-300">
                <button type="submit" id="send-button" class="bg-[#f0dc4e] hover:bg-[#d4c243] text-[#1a1a1a] font-bold p-3 rounded-xl transition-all transform hover:scale-110 duration-300 shadow-lg flex items-center justify-center">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg>
                </button>
            </form>
        </footer>
    </div>

    <script>
        // DOM element references
        const chatContainer = document.getElementById('chat-container');
        const chatForm = document.getElementById('chat-form');
        const userInput = document.getElementById('user-input');
        
        // --- Inside Prompt Data ---
        const responses = {
            en: {
                work: "You can protect your code in different ways: <br>1. <strong>HTML File</strong>: If you upload a complete HTML file, its internal <strong>CSS</strong> and <strong>JavaScript</strong> will be encrypted together. Domain lock is <strong>optional</strong>. <br>2. <strong>JavaScript File</strong>: For encrypting only JavaScript, domain lock is <strong>optional</strong>. <br>3. <strong>CSS File</strong>: For encrypting only CSS, domain lock is <strong>optional</strong> for protection. <br><br>For very large codebases, it's recommended to <strong>upload the files directly</strong> instead of pasting the code, as pasting large code can sometimes cause issues. Also, encrypting CSS and JavaScript files separately can lead to a <strong>faster website load time</strong> compared to encrypting the entire HTML file together.",
                developer: "I was developed by <strong>Mr.Suj0n</strong> (username: <strong>worm0x1</strong>). This tool was created to help developers protect their static websites, like games or portfolios, from code theft.",
                features: "This web application helps you protect your <strong>JavaScript</strong> and <strong>CSS</strong> code, and even your entire website. We all know that static websites can be easily copied using 'view source' or by inspecting the code, and various other tools. This application was built to prevent your hard work from being stolen. If someone copies your protected code and tries to host it on their own, the code will redirect the user back to your original website, making the stolen code unusable.",
                thanks: "You're welcome! Feel free to ask if you have any more questions.",
                default: "I can only provide information about how this application works, its developer, and its features. I cannot answer other questions."
            },
            bn: {
                work: "আপনি বিভিন্ন উপায়ে আপনার কোড সুরক্ষিত করতে পারেন: <br>১. <strong>HTML ফাইল:</strong> সম্পূর্ণ HTML ফাইল আপলোড করলে, এর ভেতরের <strong>CSS</strong> ও <strong>JavaScript</strong> কোড একসাথে এনক্রিপ্ট হবে। এক্ষেত্রে ডোমেন লক <strong>ঐচ্ছিক</strong>। <br>২. <strong>JavaScript ফাইল:</strong> শুধু JavaScript কোড এনক্রিপ্ট করার জন্য ডোমেন লক <strong>ঐচ্ছিক</strong> (optional)। <br>৩. <strong>CSS ফাইল:</strong> শুধু CSS কোড এনক্রিপ্ট করতে চাইলে, সুরক্ষার জন্য ডোমেন লক দেওয়া <strong>ঐচ্ছিক</strong> (optional)।<br><br>যদি কোডের পরিমাণ অনেক বেশি হয়, তাহলে কোড সরাসরি <strong>আপলোড করার পরামর্শ থাকবে</strong> কারণ অনেক সময় বড় কোড পেস্ট করলে পুরোপুরি পেস্ট হয় না। এছাড়াও, আলাদাভাবে CSS এবং JavaScript ফাইল প্রটেক্ট করলে ওয়েবসাইট <strong>দ্রুত লোড হবে</strong>, পুরো HTML ফাইল আপলোড করে প্রটেক্ট করার চেয়ে।",
                developer: "আমাকে তৈরি করেছেন ডেভেলপার <strong>Mr.Suj0n</strong> (ইউজারনেম: <strong>worm0x1</strong>)। এই টুলটি মূলত স্ট্যাটিক ওয়েবসাইট, যেমন গেম বা পোর্টফোলিও, নির্মাতাদের জন্য বানানো হয়েছে, যাতে তাদের কোড চুরি থেকে সুরক্ষিত থাকে।",
                features: "এই ওয়েব অ্যাপ্লিকেশনটি আপনার <strong>JavaScript</strong>, <strong>CSS</strong> এবং পুরো ওয়েবসাইটকে সুরক্ষিত রাখতে সাহায্য করে। আমরা জানি, স্ট্যাটিক ওয়েবসাইটগুলোর কোড 'ভিউ সোর্স' বা 'ইনসপেক্ট' করে এবং অন্যান্য বিভিন্ন টুল ব্যবহার করে খুব সহজেই কপি করা সম্ভব। এটি আপনার পরিশ্রমের ফল চুরি হওয়া থেকে বাঁচানোর জন্য তৈরি করা হয়েছে। যদি কেউ আপনার সুরক্ষিত কোড কপি করে নিজের হোস্টিংয়ে হোস্ট করে, তাহলে সেই কোড কাজ করবে না; বরং ব্যবহারকারীকে আপনার মূল ওয়েবসাইটে ফিরিয়ে নিয়ে যাবে।",
                thanks: "আপনাকে স্বাগতম! যদি আরও কোনো প্রশ্ন থাকে, জিজ্ঞাসা করতে পারেন।",
                default: "আমি শুধুমাত্র এই অ্যাপ্লিকেশনটি কীভাবে কাজ করে, এর ডেভেলপার এবং এর ফিচার সম্পর্কে তথ্য দিতে পারি। আমি অন্য কোনো প্রশ্নের উত্তর দিতে পারবো না।"
            }
        };

        const keywords = {
            work: ['how', 'work', 'কাজ', 'কিভাবে', 'application', 'use', 'ব্যবহার'],
            developer: ['developer', 'made', 'created', 'বানিয়েছে', 'তৈরি', 'ডেভেলপার', 'suj0n', 'worm0x1', 'কে'],
            features: ['special', 'different', 'features', 'ভিন্ন', 'তুলনা', 'ফিচার', 'সুবিধা'],
            thanks: ['thank you', 'thanks', 'ধন্যবাদ', 'থ্যাঙ্কস']
        };
        // --- End of Inside Prompt Data ---

        // Handle form submission
        chatForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const userMessage = userInput.value.trim();
            if (userMessage) {
                addMessage('user', userMessage);
                userInput.value = '';
                // Get predefined AI response
                getPredefinedResponse(userMessage);
            }
        });

        /**
         * Appends a message to the chat container.
         * @param {string} sender - 'user' or 'bot'.
         * @param {string} text - The message content.
         */
        function addMessage(sender, text) {
            let messageElement;
            if (sender === 'user') {
                messageElement = `
                    <div class="flex items-start gap-3 justify-end message-fade-in">
                        <div class="bg-[#f0dc4e] p-4 rounded-2xl rounded-br-md shadow-md max-w-xs md:max-w-md">
                            <p class="text-sm text-[#1a1a1a] font-medium">${text}</p>
                        </div>
                         <div class="w-10 h-10 rounded-full bg-[#f0dc4e] flex items-center justify-center flex-shrink-0 text-[#1a1a1a] shadow-md">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>
                        </div>
                    </div>
                `;
            } else {
                // This is for plain text.
                messageElement = `
                     <div class="flex items-start gap-3 justify-start message-fade-in">
                         <div class="w-10 h-10 rounded-full bg-[#f0dc4e] flex items-center justify-center flex-shrink-0 text-[#1a1a1a] shadow-md">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg>
                        </div>
                        <div class="bg-[#333333] p-4 rounded-2xl rounded-tl-md shadow-md max-w-xs md:max-w-md">
                            <p class="text-sm text-[#e0e0e0]">${text}</p>
                        </div>
                    </div>
                `;
            }
            chatContainer.innerHTML += messageElement;
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        /**
         * Appends an HTML message to the chat container.
         * @param {string} sender - 'user' or 'bot'.
         * @param {string} htmlContent - The message content with HTML tags.
         */
        function addMessageWithHTML(sender, htmlContent) {
            let messageElement;
            if (sender === 'user') {
                messageElement = `
                    <div class="flex items-start gap-3 justify-end message-fade-in">
                        <div class="bg-[#f0dc4e] p-4 rounded-2xl rounded-br-md shadow-md max-w-xs md:max-w-md">
                            <p class="text-sm text-[#1a1a1a] font-medium">${htmlContent}</p>
                        </div>
                        <div class="w-10 h-10 rounded-full bg-[#f0dc4e] flex items-center justify-center flex-shrink-0 text-[#1a1a1a] shadow-md">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>
                        </div>
                    </div>
                `;
            } else {
                // This is for HTML content.
                messageElement = `
                    <div class="flex items-start gap-3 justify-start message-fade-in">
                        <div class="w-10 h-10 rounded-full bg-[#f0dc4e] flex items-center justify-center flex-shrink-0 text-[#1a1a1a] shadow-md">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg>
                        </div>
                        <div class="bg-[#333333] p-4 rounded-2xl rounded-tl-md shadow-md max-w-xs md:max-w-md">
                            <p class="text-sm text-[#e0e0e0]">${htmlContent}</p>
                        </div>
                    </div>
                `;
            }
            chatContainer.innerHTML += messageElement;
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        /**
         * Shows the bot's typing indicator.
         */
        function showTypingIndicator() {
            const typingIndicatorId = 'typing-indicator';
            if (!document.getElementById(typingIndicatorId)) {
                const indicatorHTML = `
                    <div id="${typingIndicatorId}" class="flex items-start gap-3 justify-start message-fade-in">
                        <div class="w-10 h-10 rounded-full bg-[#f0dc4e] flex items-center justify-center flex-shrink-0 text-[#1a1a1a]">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg>
                        </div>
                        <div class="bg-[#333333] p-4 rounded-2xl rounded-tl-md shadow-md">
                            <div class="flex items-center justify-center space-x-1">
                                <span class="w-2 h-2 bg-[#f0dc4e] rounded-full animate-pulse" style="animation-delay: 0s;"></span>
                                <span class="w-2 h-2 bg-[#f0dc4e] rounded-full animate-pulse" style="animation-delay: 0.2s;"></span>
                                <span class="w-2 h-2 bg-[#f0dc4e] rounded-full animate-pulse" style="animation-delay: 0.4s;"></span>
                            </div>
                        </div>
                    </div>
                `;
                chatContainer.innerHTML += indicatorHTML;
                chatContainer.scrollTop = chatContainer.scrollHeight;
            }
        }
        
        /**
         * Hides the bot's typing indicator.
         */
        function hideTypingIndicator() {
            const indicator = document.getElementById('typing-indicator');
            if (indicator) {
                indicator.remove();
            }
        }

        /**
         * Determines and provides a response based on keywords in the user's message.
         * @param {string} prompt - The user's message.
         */
        function getPredefinedResponse(prompt) {
            showTypingIndicator();
            
            const lowerCasePrompt = prompt.toLowerCase();
            const lang = /[^\u0000-\u007f]/.test(prompt) ? 'bn' : 'en';

            let responseKey = 'default';

            if (keywords.work.some(key => lowerCasePrompt.includes(key))) {
                responseKey = 'work';
            } else if (keywords.developer.some(key => lowerCasePrompt.includes(key))) {
                responseKey = 'developer';
            } else if (keywords.features.some(key => lowerCasePrompt.includes(key))) {
                responseKey = 'features';
            } else if (keywords.thanks.some(key => lowerCasePrompt.includes(key))) {
                responseKey = 'thanks';
            }
            
            const botMessage = responses[lang][responseKey];

            // Simulate bot thinking time
            setTimeout(() => {
                hideTypingIndicator();
                addMessageWithHTML('bot', botMessage);
            }, 1000);
        }
    </script>

</body>
</html>